{"ast":null,"code":"import _slicedToArray from \"/Users/mac/Desktop/\\u6BD5\\u8BBE/\\u6BD5\\u8BBE/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/\\u6BD5\\u8BBE/\\u6BD5\\u8BBE/src/component/pages/frontend/People/AddressBook/Table1/Table1.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Typography, Input, Table, Tag } from 'antd';\nimport UserContext from '../../../../../../context/user/userContext';\nimport Spinner from '../../../../../laout/Spinner';\nimport '../Table1/Table1.scss';\n\nconst Table1 = e => {\n  const imgUser = require('../../../../../pic/27.png');\n\n  const userContext = useContext(UserContext);\n  const getAllUser = userContext.getAllUser,\n        allUser = userContext.allUser,\n        loading = userContext.loading,\n        total = userContext.total;\n  useEffect(() => {\n    //useEffect 重构生命周期didMount\n    getAllUser(1); // eslint-disable-next-line\n  }, []);\n  const Text = Typography.Text;\n  const Search = Input.Search;\n  const img = allUser.img; //分页\n\n  const _useState = useState(1),\n        _useState2 = _slicedToArray(_useState, 2),\n        currentPage = _useState2[0],\n        setCurrentPage = _useState2[1];\n\n  const paginationProps = {\n    showSizeChanger: false,\n    showQuickJumper: false,\n    showTotal: () => \"\\u5171\".concat(total, \"\\u6761\"),\n    pageSize: 5,\n    current: currentPage,\n    total: total,\n    onShowSizeChange: (current, pageSize) => changePageSize(pageSize, current),\n    onChange: current => changePage(current)\n  };\n\n  const changePageSize = (a, b) => {\n    console.log(a, b);\n  };\n\n  const changePage = v => {\n    console.log(v);\n    setCurrentPage(v);\n  };\n\n  const columns = [{\n    title: '头像',\n    dataIndex: 'img',\n    key: 'img',\n    render: src => React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, !img && React.createElement(\"img\", {\n      className: \"Table1-img\",\n      src: imgUser,\n      alt: \"pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), img && React.createElement(\"img\", {\n      className: \"Table1-img\",\n      src: src,\n      alt: \"pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }))\n  }, {\n    title: '\b姓名',\n    dataIndex: 'name',\n    key: 'name',\n    render: text => React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, text)\n  }, {\n    title: '联系方式',\n    dataIndex: 'phone',\n    key: 'phone'\n  }, {\n    title: '邮箱',\n    dataIndex: 'mail',\n    key: 'mail'\n  }, {\n    title: '职务',\n    key: 'tags',\n    dataIndex: 'tags',\n    render: tags => React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, tags.map(tag => {\n      let color = 'geekblue';\n      return React.createElement(Tag, {\n        color: color,\n        key: tag,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, tag.toUpperCase());\n    }))\n  }, {\n    title: '操作',\n    key: 'action',\n    render: (text, record) => React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: 'red'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\u5220\\u9664\"))\n  }];\n  const data = []; // 初始化antd表格\n\n  if (allUser.length !== undefined) {\n    allUser.forEach((item, index) => {\n      data.push({\n        key: String(index + 1),\n        img: item.img ? item.img : '',\n        name: item.name ? item.name : '未填写',\n        phone: item.phone ? item.phone : '未填写',\n        mail: item.mail ? item.mail : item.us ? item.us : '未填写',\n        tags: item.right === 0 ? ['普通用户'] : ['管理员']\n      });\n    });\n  }\n\n  if (loading) {\n    return React.createElement(Spinner, {\n      style: {\n        width: '300px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Table1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Table1-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"\\u641C\\u7D22\\uFF1A\"), React.createElement(Search, {\n    maxLength: 20,\n    placeholder: \"\\u8F93\\u5165\\u7528\\u6237\\u4FE1\\u606F\\u641C\\u7D22\",\n    onSearch: value => console.log(value),\n    style: {\n      width: 200\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"Table1-table\",\n    style: {\n      marginBottom: '10px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(Table, {\n    columns: columns,\n    dataSource: data,\n    pagination: paginationProps,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  })));\n};\n\nexport default Table1;","map":{"version":3,"sources":["/Users/mac/Desktop/毕设/毕设/src/component/pages/frontend/People/AddressBook/Table1/Table1.js"],"names":["React","useState","useEffect","useContext","Typography","Input","Table","Tag","UserContext","Spinner","Table1","e","imgUser","require","userContext","getAllUser","allUser","loading","total","Text","Search","img","currentPage","setCurrentPage","paginationProps","showSizeChanger","showQuickJumper","showTotal","pageSize","current","onShowSizeChange","changePageSize","onChange","changePage","a","b","console","log","v","columns","title","dataIndex","key","render","src","text","tags","map","tag","color","toUpperCase","record","data","length","undefined","forEach","item","index","push","String","name","phone","mail","us","right","width","value","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport { Typography, Input, Table, Tag } from 'antd'\nimport UserContext from '../../../../../../context/user/userContext'\nimport Spinner from '../../../../../laout/Spinner'\n\nimport '../Table1/Table1.scss'\n\n\n\n\n\nconst Table1 = (e) => {\n    const imgUser = require('../../../../../pic/27.png')\n\n    const userContext = useContext(UserContext)\n    const { getAllUser, allUser, loading, total } = userContext\n\n\n    useEffect(() => {  //useEffect 重构生命周期didMount\n        getAllUser(1)\n        // eslint-disable-next-line\n    }, [])\n\n    const { Text } = Typography\n    const { Search } = Input\n    const {img } = allUser\n\n    //分页\n    const [currentPage, setCurrentPage] = useState(1)\n    const paginationProps = {\n        showSizeChanger: false,\n        showQuickJumper: false,\n        showTotal: () => `共${total}条`,\n        pageSize: 5,\n        current: currentPage,\n        total: total,\n        onShowSizeChange: (current, pageSize) => changePageSize(pageSize, current),\n        onChange: (current) => changePage(current),\n    }\n\n    const changePageSize = (a, b) => {\n        console.log(a, b)\n    }\n\n    const changePage = (v) => {\n        console.log(v)\n        setCurrentPage(v)\n    }\n\n\n\n    const columns = [\n        {\n            title: '头像',\n            dataIndex: 'img',\n            key: 'img',\n            render: src => <span>\n                { !img && <img className='Table1-img'\n                            src={imgUser}\n                            alt='pic'\n                        />}\n                        {img && <img className='Table1-img'\n                            src={src} \n                            alt='pic'\n                        />}\n            </span>,\n        },\n        {\n            title: '\b姓名',\n            dataIndex: 'name',\n            key: 'name',\n            render: text => <span>{text}</span>,\n        },\n        {\n            title: '联系方式',\n            dataIndex: 'phone',\n            key: 'phone',\n        },\n        {\n            title: '邮箱',\n            dataIndex: 'mail',\n            key: 'mail',\n        },\n        {\n            title: '职务',\n            key: 'tags',\n            dataIndex: 'tags',\n            render: tags => (\n                <span>\n                    {tags.map(tag => {\n                        let color = 'geekblue';\n\n                        return (\n                            <Tag color={color} key={tag}>\n                                {tag.toUpperCase()}\n                            </Tag>\n                        );\n                    })}\n                </span>\n            ),\n        },\n        {\n            title: '操作',\n            key: 'action',\n            render: (text, record) => (\n                <span>\n                    <span style={{ color: 'red' }}>删除</span>\n                </span>\n            ),\n        },\n    ];\n\n    const data = []; // 初始化antd表格\n    if (allUser.length !== undefined) {\n        allUser.forEach((item, index) => {\n            data.push({\n                key: String(index + 1),\n                img:item.img?item.img:'',\n                name: item.name ? item.name : '未填写',\n                phone: item.phone ? item.phone : '未填写',\n                mail: item.mail ? item.mail : (item.us ? item.us : '未填写'),\n                tags: item.right === 0 ? ['普通用户'] : ['管理员']\n            })\n\n        })\n    }\n\n\n\n    if (loading) { return (<Spinner style={{ width: '300px' }}></Spinner>) }\n    return (\n        <div className='Table1'>\n            <div className='Table1-search' >\n                <Text>搜索：</Text>\n                <Search\n                    maxLength={20}\n                    placeholder=\"输入用户信息搜索\"\n                    onSearch={value => console.log(value)}\n                    style={{ width: 200 }}\n                />\n            </div>\n            <div className='Table1-table' style={{ marginBottom: '10px' }}>\n                <Table columns={columns} dataSource={data} pagination={paginationProps} />\n            </div>\n        </div>\n    )\n}\n\nexport default Table1\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}